<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="path/to/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="style.css" />
    <title>Gym Buddy App</title>
  </head>
  <body class="workout-body">
    <div class="navbar">
      <img
        src="https://img.icons8.com/?size=100&id=122692&format=png&color=000000"
        alt="gym logo"
        id="logo"
        width="5%"
      />
      <nav>
        <a href="home.html" >Home</a>
        <a href="monthly-planner.html">Planner</a>
        <a href="Workout.html">Workout</a>
        <a href="contact.html" >Contact Us</a>
      </nav>
    </div>
      <h1>üèãÔ∏è Gym Buddy Fitness Tracker</h1>

  <!-- Log Workout -->
  <div class="section">
    <h2>Log Workout</h2>
    <label>Exercise Name</label>
    <input type="text" id="exerciseName" placeholder="e.g., Bench Press">

    <label>Sets</label>
    <input type="number" id="sets" placeholder="e.g., 3">

    <label>Reps</label>
    <input type="number" id="reps" placeholder="e.g., 10">

    <label>Weight (kg)</label>
    <input type="number" id="weight" placeholder="e.g., 50">

    <button onclick="logWorkout()">Add Workout</button>
  </div>

  <!-- Workout History -->
  <div class="section">
    <h2>Workout History</h2>
    <div id="workoutHistory"></div>
  </div>

  <!-- Progress Chart -->
  <div class="section">
    <h2>Progress Tracking</h2>
    <canvas id="progressChart" width="400" height="200"></canvas>
  </div>

  <!-- Fetch Exercises -->
  <div class="section">
    <h2>Search Exercises (WGER API)</h2>
    <input type="text" id="searchQuery" placeholder="Search by name or muscle group">
    <button onclick="searchExercises()">Search</button>
    <div id="exerciseResults"></div>
  </div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  let workouts = JSON.parse(localStorage.getItem('workouts')) || [];

  function logWorkout() {
    const name = document.getElementById('exerciseName').value;
    const sets = document.getElementById('sets').value;
    const reps = document.getElementById('reps').value;
    const weight = document.getElementById('weight').value;

    if (!name || !sets || !reps || !weight) {
      alert('Please fill out all fields.');
      return;
    }

    const workout = {
      name,
      sets: parseInt(sets),
      reps: parseInt(reps),
      weight: parseFloat(weight),
      date: new Date().toLocaleString()
    };

    workouts.push(workout);
    localStorage.setItem('workouts', JSON.stringify(workouts));
    displayWorkouts();
    updateChart();
    clearForm();
  }

  function displayWorkouts() {
    const historyDiv = document.getElementById('workoutHistory');
    historyDiv.innerHTML = '';
    workouts.slice().reverse().forEach(w => {
      const div = document.createElement('div');
      div.className = 'workout-entry';
      div.innerHTML = `<strong>${w.name}</strong> - ${w.sets} sets x ${w.reps} reps @ ${w.weight}kg<br><small>${w.date}</small>`;
      historyDiv.appendChild(div);
    });
  }

  function clearForm() {
    document.getElementById('exerciseName').value = '';
    document.getElementById('sets').value = '';
    document.getElementById('reps').value = '';
    document.getElementById('weight').value = '';
  }

  // Chart.js Progress
  let chart;
  function updateChart() {
    const ctx = document.getElementById('progressChart').getContext('2d');
    const labels = workouts.map(w => w.date);
    const totalWeights = workouts.map(w => w.sets * w.reps * w.weight);

    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: 'line',
      data: {
        labels,
        datasets: [{
          label: 'Total Weight Lifted (kg)',
          data: totalWeights,
          borderColor: '#28a745',
          backgroundColor: 'rgba(40,167,69,0.2)',
          fill: true
        }]
      }
    });
  }

  // WGER API Search
  async function searchExercises() {
    const query = document.getElementById('searchQuery').value.trim();
    if (!query) {
      alert('Enter a search term');
      return;
    }
    const res = await fetch(`https://wger.de/api/v2/exercise/?language=2&limit=10&search=${query}`);
    const data = await res.json();

    const resultsDiv = document.getElementById('exerciseResults');
    resultsDiv.innerHTML = '';
    if (data.results.length === 0) {
      resultsDiv.innerHTML = '<p>No exercises found.</p>';
      return;
    }

    data.results.forEach(ex => {
      const div = document.createElement('div');
      div.className = 'exercise-card';
      div.innerHTML = `<strong>${ex.name}</strong><br>${ex.description || ''}`;
      resultsDiv.appendChild(div);
    });
  }

  displayWorkouts();
  updateChart();
</script>
  </body>
</html>